<!DOCTYPE html>
<html>
  <head>
    <title>World of Argentum Online</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript
      ><link rel="stylesheet" href="assets/css/noscript.css"
    /></noscript>
  </head>
  <body class="is-preload">
    <!-- Wrapper -->
    <div id="wrapper" class="fade-in">
      <!-- Intro -->
      <div id="intro">
        <h1>
          World of Argentum<br />
          Online
        </h1>
        <p>
          Bienvenido a World of Argentum Online, el MMORPG gratuito más popular
          de habla hispana.
        </p>
        <ul class="actions">
          <li>
            <a
              href="#header"
              class="button icon solid solo fa-arrow-down scrolly"
              >Continúa</a
            >
          </li>
        </ul>
      </div>

      <!-- Header -->
      <header id="header">
        <a href="index.html" class="logo">World of Argentum</a>
      </header>

      <!-- Nav -->
      <nav id="nav">
        <ul class="links">
          <li class="active"><a href="index.html">Inicio</a></li>
          <li><a href="noticias.html">Noticias</a></li>
          <li><a href="descarga.html">Descargas</a></li>
          <li><a href="tienda.html">Tienda</a></li>
        </ul>
        <ul class="icons">
          <li>
            <a href="#" class="icon brands fa-twitter"
              ><span class="label">Twitter</span></a
            >
          </li>
          <li>
            <a href="#" class="icon brands fa-facebook-f"
              ><span class="label">Facebook</span></a
            >
          </li>
          <li>
            <a href="#" class="icon brands fa-instagram"
              ><span class="label">Instagram</span></a
            >
          </li>
          <li>
            <a href="#" class="icon brands fa-github"
              ><span class="label">GitHub</span></a
            >
          </li>
          <li><a href="login.html" id="login-button">Login</a></li>
          <li>
            <a href="#" id="logout-button" style="display: none">Logout</a>
          </li>
          <!-- Nuevo botón -->
          <li><span id="login-status"></span></li>
        </ul>
      </nav>

      <!-- Main -->
      <div id="main">
        <!-- Información del Juego -->
        <section class="info">
          <h2>Estado del Servidor</h2>
          <p>Jugadores en línea: <span id="online-players">123</span></p>
        </section>

        <!-- Últimas Noticias -->
        <section class="posts">
          <article>
            <header>
              <span class="date">Septiembre 13, 2024</span>
              <h2>
                <a href="#">¡Lanzamiento Beta de World Of Argentum Online!</a>
              </h2>
            </header>
            <a href="#" class="image fit">
              <img
                src="images/iconAo.jpg"
                style="width: 15%"
                alt="Lanzamiento Beta"
              />
            </a>
            <p>
              ¡World Of Argentum Online regresa renovado y con grandes
              novedades! Descubre nuestra Beta con un nuevo motor gráfico, razas
              con bonificaciones únicas, facciones Horda y Alianza, y muchas más
              sorpresas.
            </p>
          </article>

          <article>
            <header>
              <span class="date">Septiembre 13, 2024</span>
              <h2>
                <a href="#">Habilidades Especiales por Raza en World of AO</a>
              </h2>
            </header>
            <a href="#" class="image fit">
              <img
                src="images/iconAo.jpg"
                style="width: 15%"
                alt="Habilidades por Raza"
              />
            </a>
            <ul style="  list-style-type: none;">
              <li style="font-size: 12px">
                Humano: Resistencia mágica +5%, menor consumo de mana en
                "Remover Parálisis".
              </li>
              <li style="font-size: 12px">
                Elfo: Menor consumo de mana en hechizos.
              </li>
              <li style="font-size: 12px">
                Elfo Oscuro: Invisibilidad más larga, bonus en arcos.
              </li>
              <li style="font-size: 12px">
                Enano: Más daño cuando está herido.
              </li>
              <li style="font-size: 12px">Gnomo: Evasión mejorada.</li>
              <li style="font-size: 12px">
                Orco: Posibilidad de evitar hechizos.
              </li>
              <li style="font-size: 12px">
                Vampiro: Probabilidad de restaurar vida al recibir daño.
              </li>
              <li style="font-size: 12px">
                Abisario: Evitar la muerte con 1 de vida, golpes críticos
                mejorados.
              </li>
              <li style="font-size: 12px">
                Goblin: Probabilidad de evitar ser paralizado.
              </li>
              <li style="font-size: 12px">
                Tauros: Resistencias aumentadas (mágica, física y a flechas).
              </li>
              <li style="font-size: 12px">
                Licántropo: Mayor probabilidad de golpes críticos.
              </li>
              <li style="font-size: 12px">
                No-Muerto: Resistencia a flechas, menor consumo de mana en
                "Paralizar".
              </li>
            </ul>
          </article>
        </section>
        <!-- Tienda -->
        <section
          class="shop"
          style="
            display: flex;
            flex-flow: column;
            align-items: center;
            justify-content: center;
          "
        >
          <h2>Tienda de Argentum</h2>
          <p>Compra ítems exclusivos y mejora tu experiencia de juego.</p>
          <a href="tienda.html" class="button large">Visita la Tienda</a>
        </section>
      </div>

      <!-- Footer -->
      <footer id="footer">
        <section>
          <form method="post" action="#">
            <div class="fields">
              <div class="field">
                <label for="name">Nombre</label>
                <input type="text" name="name" id="name" />
              </div>
              <div class="field">
                <label for="email">Email</label>
                <input type="text" name="email" id="email" />
              </div>
              <div class="field">
                <label for="message">Mensaje</label>
                <textarea name="message" id="message" rows="3"></textarea>
              </div>
            </div>
            <ul class="actions">
              <li><input type="submit" value="Enviar Mensaje" /></li>
            </ul>
          </form>
        </section>
        <section class="split contact">
          <section class="alt">
            <h3>Dirección</h3>
            <p>
              1234 Somewhere Road #87257<br />
              Nashville, TN 00000-0000
            </p>
          </section>
          <section>
            <h3>Teléfono</h3>
            <p><a href="#">(000) 000-0000</a></p>
          </section>
          <section>
            <h3>Email</h3>
            <p><a href="#">info@untitled.tld</a></p>
          </section>
          <section>
            <h3>Redes Sociales</h3>
            <ul class="icons alt">
              <li>
                <a href="#" class="icon brands alt fa-twitter"
                  ><span class="label">Twitter</span></a
                >
              </li>
              <li>
                <a href="#" class="icon brands alt fa-facebook-f"
                  ><span class="label">Facebook</span></a
                >
              </li>
              <li>
                <a href="#" class="icon brands alt fa-instagram"
                  ><span class="label">Instagram</span></a
                >
              </li>
              <li>
                <a href="#" class="icon brands alt fa-github"
                  ><span class="label">GitHub</span></a
                >
              </li>
            </ul>
          </section>
        </section>
      </footer>

      <!-- Copyright -->
      <div id="copyright">
        <ul>
          <li>&copy; Argentum Online</li>
          <li>Design: <a href="https://html5up.net">HTML5 UP</a></li>
        </ul>
      </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const user = localStorage.getItem("user");

        if (user) {
          document.getElementById(
            "login-status"
          ).textContent = `Logueado como: ${JSON.parse(user).email}`;
          document.getElementById("login-button").style.display = "none";
          document.getElementById("logout-button").style.display =
            "inline-block";
        }

        document
          .getElementById("logout-button")
          .addEventListener("click", () => {
            localStorage.removeItem("user");
            window.location.reload(); // Recargar la página para aplicar los cambios
          });
      });

      // Función para obtener la cantidad de jugadores en línea
      function fetchOnlinePlayers() {
        fetch("http://45.235.98.182:3000/online-users")
          .then((response) => response.json())
          .then((data) => {
            // Actualizar el texto dentro del <span> con el ID "online-players"
            document.getElementById("online-players").textContent =
              data.onlineUsers;
          })
          .catch((error) => {
            document.getElementById("online-players").textContent = 0;
            console.error("Error al obtener los jugadores en línea:", error);
          });
      }

      // Llamar a la función inmediatamente al cargar la página
      window.onload = function () {
        fetchOnlinePlayers();
      };

      // Puedes llamar a esta función periódicamente si quieres actualizar los jugadores en tiempo real
      setInterval(fetchOnlinePlayers, 30000); // Actualiza cada 30 segundos
    </script>
  </body>
</html>
